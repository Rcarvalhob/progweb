define(["jquery","wcs.input-validator"],function(s,u){function a(e){var r={},t=e.split("?")[1];if(e&&t){var n=(t=t.split("#")[0]).split("&");s.each(n,function(e,t){var n=t.split("=");r[n[0]]=n[1]})}return r}function o(e){if(!e)return location.hash;var t=e.indexOf("#");return-1<t?e.substring(t):""}function d(e){return t(e=l(e)).split("?")[0]}function l(e){return e||location.href}function t(e){var t=(e=l(e)).indexOf("#"),n=e;return-1<t&&(n=e.substring(0,t)),n}var r,e=(r={},function(e,t,n){r[n=n||"Don't call this twice without a uniqueId"]&&clearTimeout(r[n]),r[n]=setTimeout(e,t)});var i=[{dType:"ios",qString:"ipad"},{dType:"ios",qString:"ipod"},{dType:"ios",qString:"iphone"},{dType:"android",qString:"android"},{dType:"wp7",qString:"windows phone"},{dType:"w8",qString:"windows nt 6.2"}];function c(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,r){return t+t+n+n+r+r});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function f(e,t,n){var r=[e,t,n].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*r[0]+.7152*r[1]+.0722*r[2]}return{setURLParam:function(e,t,n){e=l(e);var r="",i="";if(t=encodeURIComponent(t),n=encodeURIComponent(n),-1<e.indexOf(t)){i=t+"="+n;var a=new RegExp(t+"=([^&#]*)","gi");r=e.replace(a,i)}else i=e.indexOf("?")<0?"?":"&",r=e+(i+=t+"="+n);return r},setMultipleURLParams:function(s,u,d){return d=l(d),Object.keys(s).forEach(function(e){var t,n,r,i,a,o;t=d,r=s[n=e],i=u,a=new RegExp("([?&#])"+n+"=.*?(&|#|$)","gi"),o="",d=t.match(a)?t.replace(a,"$1"+n+"="+r+"$2"):(i?o=-1!==t.indexOf("#")?"&":"#":(o=-1!==t.indexOf("?")?"&":"?",-1!==t.indexOf("#")&&(t=t.replace(/#.*/,""))),t+o+n+"="+r)}),d},setMultipleURLParamsFromHash:function(e){var t=o(e=l(e)),n=d(e),r=a(e),i=a("?"+t.substring(1));return s.extend(r,i),n+"?"+Object.keys(r).map(function(e){return e+"="+r[e]}).join("&")+t},getURLParam:function(e,t){var n=0,r=-1;return t=encodeURIComponent(t),e&&-1<(r=e.indexOf(t))&&(-1<(e=e.substring(r)).indexOf("&")&&(e=e.substring(0,e.indexOf("&"))),-1<(n=e.substring(e.indexOf("=")+1)).indexOf("#")&&(n=n.split("#")[0])),n},getAllURLParams:a,hasURLParam:function(e,t){return-1<(e=l(e)).search(t)},removeURLParam:function(e,t){var n=e.indexOf(t),r="",i="",a=e;return-1<n&&(r=e.substring(0,n),a=-1<(n=(i=e.substring(n)).indexOf("&"))?r+(i=i.substring(n+1)):(r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.lastIndexOf("&"))),r)),a},addItemPreSourcingParams:function(e,t,n){for(var r=new u,i=0;i<e.catentryNumber;i++)for(var a=0;a<n.length;a++){var o=n[a]+"_"+i,s=e[o];r.isEmpty(s)||(t[o]=s)}return t},navigateWithParams:function(e,t,n){"object"==typeof t?e=e+"?"+(t=s.param(t)):"string"==typeof t&&0<t.length&&(e=e+"?"+t),"object"!=typeof n&&(n=window.location),n.href=e},isDisabledButton:function(e){return!(null==e||!e.hasClass("disabled"))},enableButton:function(e){null!=e&&e.hasClass("disabled")&&e.removeClass("disabled")},disableButton:function(e){null==e||e.hasClass("disabled")||e.addClass("disabled")},getParamFromHash:function(e){var t=new RegExp("#(.*[?&]|)"+e+"=([^&]+)(&|$)"),n=window.location.hash.match(t);return n&&n[2]?n[2]:""},getHash:o,getBaseUrl:d,getFullUrl:l,removeHash:t,checkPOBOXAddress:function(e){return null!=e&&""!==e&&(t="undefined"!=typeof WCS_CONFIG&&"undefined"!==WCS_CONFIG.get("address::poBoxValidationRegex")?new RegExp(WCS_CONFIG.get("address::poBoxValidationRegex"),"i"):new RegExp("(P\\.? *?O\\.?\\s?|post\\s+office )+Box\\s","i"),!!e.match(t));var t},showSearchWidgetMoreLink:function(){if(0<s("#br-related-searches-widget").length&&5<s("#br-related-searches-widget a").length){var e=LANG_SEARCH_WIDGET.SEARCH_WIDGET_MORE,t=s('<a id="more" href="javascript:void(0)" >'+e+"</a>");t.on("click",function(){s("#more").hide(),s("div.br-related-query").last().show()}),0===s("#more").length&&s("div.br-related-query").last().hide().after(t)}},interruptTransitions:function(e,t){if(t&&"function"!=typeof t)throw t+" is not a function.";if("object"!=typeof e||!e.jquery)throw e+" is not a JQuery object.";if(e.length<1)throw e+" is empty.";var n=[];e.each(function(e,t){n[e]=t.style.transition,t.style.transition=""}),t&&t(),e.each(function(e,t){t.style.transition=n[e]})},xmlToJson:function e(t){var n={};if(1===t.nodeType){var r=t.attributes.length;if(0<r){n.attributes={};for(var i=0;i<r;i++){var a=t.attributes.item(i);n.attributes[a.nodeName]=a.nodeValue}}}else 3===t.nodeType&&(n=t.nodeValue);if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++){var s=t.childNodes.item(o),u=s.nodeName;if(void 0===n[u])n[u]=e(s);else{if(void 0===n[u].push){var d=n[u];n[u]=[],n[u].push(d)}n[u].push(e(s))}}return n},waitForFinalEvent:e,getDeviceType:function(){var e,t,n,r;for(e=navigator.userAgent.toLowerCase(),t=0,n=i.length,r="default";t<n;t++)if(0<=e.indexOf(i[t].qString)){r=i[t].dType;break}return r},getHiddenElementSize:function(e,t,n){var r={display:"",left:"",position:"",visibility:""},i={display:"block",left:"-999em",position:"absolute",visibility:"hidden"},a=t||e;a.css(i),n&&s(".topnav").addClass("active");var o={height:e.outerHeight(),width:e.outerWidth()};return n&&s(".topnav").removeClass("active"),a.css(r),o},debounce:function(r,i,a){var o;return function(){var e=this,t=arguments,n=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||r.apply(e,t)},i),n&&r.apply(e,t)}},elementLoaded:function e(t,n){s(t).length?n(s(t)):setTimeout(function(){e(t,n)},500)},cleanString:function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent},displayNotificationToScreenReaders:function(e){s(e).attr("aria-live","assertive")},seeMoreLessToggle:function(e,t){e.on("click",function(){t.length&&(t.hasClass("expanded")?(t.removeClass("expanded"),s(this).text(t.data("show-more"))):(t.addClass("expanded"),s(this).text(t.data("show-less"))))})},getFullscreenElement:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},getVideoBufferedTime:function(e){return e.buffered.length&&e.buffered.end(0)||0},decodeHTML:function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent},compareContrast:function(e,t,n){var r=c(e),i=c(t),a=c(n),o=f(r.r,r.g,r.b),s=f(i.r,i.g,i.b),u=f(a.r,a.g,a.b);return Math.abs(o-s)>Math.abs(o-u)?t:n},formatMessage:function(e,t){for(var n=0;n<t.length;n++)e=e.replace("{"+n+"}",t[n]);return e},calculateDiscount:function(e,t){var n=100*(e-t)/t,r=!1,i=WCS_CONFIG.get("PDP::salePercPositiveBeforeRound")||!1;n<0&&i&&(n*=-1,r=!0);var a=Math.round(n)||0;return r&&i&&(a*=-1),a},sortFacetParam:function(e){return newParam=e.sort(function(e,t){return e<t?-1:t<e?1:0}),newParam},setTextNodeValueOfElement:function(e,t){if(e&&e.contents&&null!=t){var n,r=e.contents().filter(function(e,t){return 3===t.nodeType});if(r.length){var i=r.filter(function(e,t){return t.textContent&&t.textContent.trim().length});n=i.length?i[0]:r[0]}else n=document.createTextNode(""),e.prepend(n);n.textContent=t}}}});
//# sourceMappingURL=../../../maps/js/wcs/util/utils.hash-a00ec8e60e54147929772f17a7705943.js.map